<html>
	<head>
		<link rel="stylesheet" href="css/style.css">
		<script src="js/jquery-3.3.1.min.js"></script>
	</head>
	
	<body>
		<div class="container">
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 "> <center><h1>Bitalino Control Center </h1></center> </div>
		</div>
		<div class="container">
			<div id="20:16:12:22:01:28" class="device_1 btn btn-primary">
				20:16:12:22:01:28	
			</div>
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>
		<div class="container">
				<form action="#" id="20:16:12:22:01:28" onsubmit="return updateChannels('20:16:12:22:01:28');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	
		<div class="container">
			<div id="20:16:12:21:98:71" class="device_2 btn btn-primary">
				20:16:12:21:98:71	
			</div>
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>
		<div class="container">
				<form action="#" id="20:16:12:21:98:71" onsubmit="return updateChannels('20:16:12:21:98:71');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	
		<div class="container">
			<div id="20:16:12:21:98:59" class="device_3 btn btn-primary">
				20:16:12:21:98:59
			</div>
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>	
		<div class="container">
				<form action="#" id="20:16:12:21:98:59" onsubmit="return updateChannels('20:16:12:21:98:59');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	
		<div class="container">
			<div id="20:16:12:21:98:60" class="device_4 btn btn-primary">
				20:16:12:21:98:60
			</div>
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>	
		<div class="container">
				<form action="#" id="20:16:12:21:98:60" onsubmit="return updateChannels('20:16:12:21:98:60');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	
		<div class="container">
			<div id="20:16:12:22:01:45" class="device_5 btn btn-primary">
				20:16:12:22:01:45
			</div>
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>	
		<div class="container">
				<form action="#" id="20:16:12:22:01:45" onsubmit="return updateChannels('20:16:12:22:01:45');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	
		
		<div class="container">
			<div id="20:16:12:21:98:56" class="device_6 btn btn-primary">
				20:16:12:21:98:56
			</div>
		</div>

		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>	
		<div class="container">
				<form action="#" id="20:16:12:21:98:56" onsubmit="return updateChannels('20:16:12:21:98:56');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	

		<div class="container">
			<div id="20:16:12:22:01:29" class="device_7 btn btn-primary">
				20:16:12:22:01:29
			</div>	
		</div>
		<div class="container">
			<div class="col-lg-2">Channel 0</div>
			<div class="col-lg-2">Channel 1</div>
			<div class="col-lg-2">Channel 2</div>
			<div class="col-lg-2">Channel 3</div>
			<div class="col-lg-2">Channel 4</div>
			<div class="col-lg-2">Channel 5</div>
		</div>	
		<div class="container">
				<form action="#" id="20:16:12:22:01:29" onsubmit="return updateChannels('20:16:12:22:01:29');" name="">
					<div class="col-lg-2">
						<input type="radio" name = "c0" value="c0_ecg" checked>ECG</input>
						<input type="radio" name = "c0" value="c0_eda">EDA</input>
						<input type="radio" name = "c0" value="c0_none">None</input>
						<input type="text" name="c0"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c1" value="c1_ecg" >ECG</input>
						<input type="radio" name = "c1" value="c1_eda" checked>EDA</input>
						<input type="radio" name = "c1" value="c1_none">None</input>
						<input type="text" name="c1"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c2" value="c2_ecg" checked>ECG</input>
						<input type="radio" name = "c2" value="c2_eda">EDA</input>
						<input type="radio" name = "c2" value="c2_none">None</input>
						<input type="text" name="c2"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c3" value="c3_ecg">ECG</input>
						<input type="radio" name = "c3" value="c3_eda" checked>EDA</input>
						<input type="radio" name = "c3" value="c3_none">None</input>
						<input type="text" name="c3"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c4" value="c4_ecg" checked>ECG</input>
						<input type="radio" name = "c4" value="c4_eda">EDA</input>
						<input type="radio" name = "c4" value="c4_none">None</input>
						<input type="text" name="c4"> </input>
					</div>
					<div class="col-lg-2">
						<input type="radio" name = "c5" value="c5_ecg">ECG</input>
						<input type="radio" name = "c5" value="c5_eda" checked>EDA</input>
						<input type="radio" name = "c5" value="c5_none">None</input>
						<input type="text" name="c5"> </input>
					</div>
					<div class="col-lg-12">
						<center><button class="btn btn-default" type="submit"> Update Channels</button>	</center>
					</div>
				</form>
			</div>	

		<div class="container">
			<div class="start_read btn btn-primary"> Start Recording </div>
			<div class="stop_read btn btn-primary"> Stop Recording </div>
		</div>
		<div class="container">
			<div class="websocket_status">
				<span id="websocket_1_status"></span>
			</div>
			<div class="websocket_status">
				<span id="websocket_2_status"></span>
			</div>
			<div class="websocket_status">
				<span id="websocket_3_status"></span>
			</div>
		</div>

<!-- Video Control -->
		<div class="container">
			<h4>Horror</h4>
		</div>
		<div class="container">
			<div id="03_3_versos" class="video load_video btn btn-primary">
						3 Versos
			</div>
			<div id="04_blue_hole" class="video load_video btn btn-primary">
						Blue Hole
			</div>
			<div id="08_alexia" class="video load_video btn btn-primary">
						Alexia
			</div>
		</div>
		<div class="container">
			<h4>Action</h4>
		</div>
		<div class="container">
			<div id="06_go_bag" class="video load_video btn btn-primary">
						Go Bag
			</div>
			<div id="12_shifter" class="video load_video btn btn-primary">
						Shifter
			</div>
		</div>
		<div class="container">
			<h4>Comedy</h4>
		</div>
		<div class="container">
			<div id="00_tom_and_jerry" class="video load_video btn btn-primary">
						Tom and Jerry
			</div>
			<div id="03_b_mr_bean" class="video load_video btn btn-primary">
						Mr Bean
			</div>
			<div id="13_lie_detector" class="video load_video btn btn-primary">
						Lie Detector
			</div>
		</div>
		<div class="container">
			<h4>Romantic</h4>
		</div>
		<div class="container">
			<div id="05_the_last_three_minutes" class="video load_video btn btn-primary">
						The Last Three Minutes
			</div>
			<div id="01_i_miss_you" class="video load_video btn btn-primary">
						I Miss You
			</div>
			<div id="02_the_most_beautiful_thing" class="video load_video btn btn-primary">
						The Most Beautiful Thing
			</div>
		</div>
		<div class="container">
			<h4>Thriller</h4>
		</div>
		<div class="container">
			<div id="07_catch_22" class="video load_video btn btn-primary">
						Catch 22
			</div>
			<div id="09_trapped" class="video load_video btn btn-primary">
						Trapped
			</div>
		</div>

	</body>
	
	<script>
		device_1 = document.querySelector('.device_1'),
		device_2 = document.querySelector('.device_2'),
		device_3 = document.querySelector('.device_3'),
		device_4 = document.querySelector('.device_4'),
		device_5 = document.querySelector('.device_5'),
		device_6 = document.querySelector('.device_6'),
		device_7 = document.querySelector('.device_7'),
		start_read = document.querySelector('.start_read'),
		video = $('.video'),
		stop_read = document.querySelector('.stop_read');
		//establish the websocket connection
		websocket_1 = new WebSocket("ws://127.0.0.1:6888/");
		websocket_2 = new WebSocket("ws://127.0.0.1:6889/");
		websocket_3 = new WebSocket("ws://127.0.0.1:6890/");
		
		//catch websocket errors
		websocket_1.onerror = function(event) {
			document.getElementById('websocket_1_status').innerHTML ='Socket 6888 connection failed';
		}
		websocket_2.onerror = function(event) {
			document.getElementById('websocket_2_status').innerHTML = 'Socket 6889 connection failed';
		}
		websocket_3.onerror = function(event) {
			document.getElementById('websocket_3_status').innerHTML = 'Socket 6890 connection failed';
		}
		//send websocket connect
		websocket_1.onopen = function(msg) {
			document.getElementById('websocket_1_status').innerHTML = 'Socket 6888 connection success'
		}
		websocket_2.onopen = function(msg) {
			document.getElementById('websocket_2_status').innerHTML = 'Socket 6889 connection success';
		}
		websocket_3.onopen = function(msg) {
			document.getElementById('websocket_3_status').innerHTML = 'Socket 6890 connection success';
		}
		//send websocket close
		websocket_1.onclose = function(msg) {
			document.getElementById('websocket_1_status').innerHTML = 'Socket 6888 connection closed'
		}
		websocket_2.onclose = function(msg) {
			document.getElementById('websocket_2_status').innerHTML = 'Socket 6889 connection closed';
		}
		websocket_3.onclose = function(msg) {
			document.getElementById('websocket_3_status').innerHTML = 'Socket 6890 connection closed';
		}
		
		//send device connect to websocket
		device_1.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:22:01:28'}))
		}
		device_2.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:21:98:71'}))
		}
		device_3.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:21:98:59'}))
		}
		device_4.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:21:98:60'}))
		}
		device_5.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:22:01:45'}))
		}
		device_6.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:21:98:56'}))
		}
		device_7.onclick = function (event) {
			websocket_1.send(JSON.stringify({action: 'connect', value: '20:16:12:22:01:29'}))
		}
		start_read.onclick = function (event){
			websocket_1.send(JSON.stringify({action: 'start_read'}))
		}
		stop_read.onclick = function (event){
			websocket_2.send(JSON.stringify({action: 'stop_read'}))
		}
		video.click(function (event){
			if(jQuery('#'+this.id).hasClass('load_video')){
				websocket_3.send(JSON.stringify({action: 'load_video', value: this.id}))
			}
			else if(jQuery('#'+this.id).hasClass('play_video')){
				websocket_3.send(JSON.stringify({action: 'play_video', value: this.id}))
			}
			else{
				websocket_3.send(JSON.stringify({action: 'pause_video', value: this.id}))
			}
			
		});
		
		function updateChannels(macAddress){
			form_element = document.forms[macAddress].getElementsByTagName("input")[0].value;
			var selectedValues = ""+macAddress+"";
			for(i = 0; i < 23; i++){
				if(document.forms[macAddress].getElementsByTagName("input")[i].checked){
					valueChannel = "&" + document.forms[macAddress].getElementsByTagName("input")[i].value;
					selectedValues += valueChannel;
				}
				else if(document.forms[macAddress].getElementsByTagName("input")[i].type == "text" ){
					valueChannel = "_" + document.forms[macAddress].getElementsByTagName("input")[i].value;
					selectedValues += valueChannel;
				}
				
			}
			websocket_2.send(JSON.stringify({action: 'update_sensor', value: selectedValues}));
			return false;	
		}
		websocket_1.onmessage = function (event) {
            data = JSON.parse(event.data);
            switch (data.type) {
                case 'connection_status':
					var element = document.getElementById(data.mac);
                    if(data.value == 'success'){
						element.classList.remove('btn-primary');
						element.classList.remove('btn-danger');
						element.classList.add('btn-success');
					}
					else if(data.value == 'failed'){
						element.classList.remove('btn-success');
						element.classList.remove('btn-primary');
						element.classList.add('btn-danger');
					}
                break;
				default:
                    console.error("unsupported event", data);
			}
		};
		
		websocket_3.onmessage = function (event) {
			data = JSON.parse(event.data);
			switch (data.type) {
				case 'video_state':
					var element = document.getElementById(data.id);
					if(data.value == 'loaded'){
						element.classList.remove('btn-primary');
						element.classList.remove('load_video');
						element.classList.add('btn-warning');
						element.classList.add('play_video');
					}
					if(data.value == 'playing'){
						element.classList.remove('btn-primary');
						element.classList.remove('btn-danger');
						element.classList.remove('play_video');
						element.classList.add('btn-success');
						element.classList.add('pause_video');
					}
					if(data.value == 'stopped'){
						element.classList.remove('btn-primary');
						element.classList.remove('btn-success');
						element.classList.remove('pause_video');
						element.classList.add('btn-danger');
						element.classList.add('play_video');
					}
				break;
				default:
					console.error("unsuppored event");
			}
		};
	</script>
</html>